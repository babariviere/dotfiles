;; Contains a list of package that needs to be installed
(require 'package)

(add-to-list 'package-archives '("org" . "http://orgmode.org/elpa/"))
(add-to-list 'package-archives '("melpa" . "http://melpa.org/packages/"))
(add-to-list 'package-archives '("melpa-stable" . "http://stable.melpa.org/packages/"))

(package-initialize)

(defun ensure-package (&rest packages)
  "Ensure that package is installed"
  (dolist (pkg packages)
      (when (not (package-installed-p pkg))
        (package-install pkg))))

(defun load-package (&rest packages)
  "Ensure that package is installed and load it"
  (apply 'ensure-package packages)
  (dolist (pkg packages)
    (require pkg)))

(ensure-package
  'company)
